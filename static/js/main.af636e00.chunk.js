(window["webpackJsonpplasma-cash"]=window["webpackJsonpplasma-cash"]||[]).push([[0],{1256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(139),l=a.n(c),o=a(68),u=a(34),i=a(355),s=a(202),m=a(176),p=a.n(m),f=a(1278),b=a(1267),O=a(1268),d=a(1265),E=a(1277),j=(a(1098),a(1276)),y=a(590),v=a(143),h=a(1273);function g(e){var t=e.keyring,a=e.setAccountAddress,c=e.api,l=Object(n.useState)(""),o=Object(u.a)(l,2),i=o[0],s=o[1],m=t.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),p=m.length>0?m[0].value:"";Object(n.useEffect)((function(){s(p),a(p)}),[a,p]);return Object(n.useEffect)((function(){return function(){}}),[i,c.query.balances]),r.a.createElement(j.a,{attached:"top",tabular:!0,style:{backgroundColor:"#fff",borderColor:"#fff",paddingTop:"1em",paddingBottom:"1em"}},r.a.createElement(d.a,null,r.a.createElement(j.a.Menu,null,r.a.createElement(y.a,{src:"Substrate-Logo.png",size:"mini"})),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(v.a,{name:"users",size:"large",circular:!0,color:i?"green":"red"}),r.a.createElement(h.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select an account",options:m,onChange:function(e,t){var n;n=t.value,a(n),s(n)},value:i}))))}var w=a(1274),P=a(1275);function S(e){var t=e.api,a=e.finalized,c=Object(n.useState)(0),l=Object(u.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(0),m=Object(u.a)(s,2),p=m[0],f=m[1],b=Object(n.useState)(0),O=Object(u.a)(b,2),d=O[0],j=O[1],y=Object(n.useState)(0),h=Object(u.a)(y,2),g=h[0],S=h[1],k=a?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber,C=t.rpc.chain.getHeader;Object(n.useEffect)((function(){var e;return k((function(e){i(e.toNumber()),f(0),C((function(e){var t=e.extrinsicsRoot.toHex();j(t.substring(0,6)+"...."+t.substring(62,66));var a=e.stateRoot.toHex();S(a.substring(0,6)+"...."+a.substring(62,66))}))})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[k,C]);var x=function(){f((function(e){return e+1}))};return Object(n.useEffect)((function(){var e=setInterval(x,1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,{textAlign:"center"},r.a.createElement(P.a,{label:(a?"Finalized":"Current")+" Block Number",value:o})),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(E.a.Column,null,r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"envelope"})," ",d),r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"save"})," ",g),r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"time"})," ",p))))))}var k=a(58),C=a.n(k),x=a(274),D=a(1269),I=a(1266),T=a(1257);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){var t=e.accounts,a=e.api,c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({tokenId:""}),p=Object(u.a)(m,2),f=p[0],b=p[1],O=f.tokenId,d=function(){var e=Object(x.a)(C.a.mark((function e(){var n,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.query.plasmaCash.tokens(O);case 3:(n=e.sent).isNone?r="No one owns it!":(c=t.filter((function(e){return e.address===n.toString()})),r=1===c.length?"Owner: "+c[0].name:"Lookup failed!"),s(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0.toString());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.a.Column,null,r.a.createElement(D.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Token Ownership"),r.a.createElement(w.a.Description,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){b((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(o.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token",state:"tokenId",type:"text",value:O})))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(D.a.Field,null,r.a.createElement(T.a,{onClick:d,primary:!0,type:"submit"},"Query")," ",i)))))}function A(e){var t=e.api,n=a(8),r=a(41),c=a(211);return window.api=t,window.util=n,window.util_crypto=r,window.keyring=c,null}var H=a(1270);function z(e){var t=e.api,a=Object(n.useState)(0),c=Object(u.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(0),s=Object(u.a)(i,2),m=s[0],p=s[1];return Object(n.useEffect)((function(){t.rpc.state.getMetadata((function(e){o(e),p(e.version)}))}),[t.rpc.state]),r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Metadata"),r.a.createElement(w.a.Meta,null,r.a.createElement("span",null,"v",m))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(H.a,{trigger:r.a.createElement(T.a,null,"Show Metadata")},r.a.createElement(H.a.Header,null,"Runtime Metadata"),r.a.createElement(H.a.Content,{scrolling:!0},r.a.createElement(H.a.Description,null,r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(l,null,2)))))))))}function N(e){var t=e.api,a=Object(n.useState)({}),c=Object(u.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){Promise.all([t.rpc.system.chain(),t.rpc.system.name(),t.rpc.system.version()]).then((function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],r=t[2];o({chain:a,nodeName:n,nodeVersion:r})})).catch((function(e){return console.error(e)}))}),[t.rpc.system]),r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,l.nodeName),r.a.createElement(w.a.Meta,null,r.a.createElement("span",null,l.chain)),r.a.createElement(w.a.Description,null,"Built using the"," ",r.a.createElement("a",{href:"https://github.com/substrate-developer-hub/substrate-front-end-template"},"Substrate Front End Template"))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(v.a,{name:"setting"}),"v",l.nodeVersion)))}var M=a(275),B=a(1272);function q(e){var t=e.api,a=Object(n.useState)([]),c=Object(u.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=['system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":0})','system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":1})'];t.query.system.events((function(t){t.forEach((function(t){var a=t.event,n=t.phase,r=a.typeDef,c="".concat(a.section,":").concat(a.method,":: (phase=").concat(n.toString(),")"),l=a.data.map((function(e,t){return"".concat(r[t].type,": ").concat(e.toString())}));if(!e.includes(c)){var u={icon:"bell",date:"X Blocks Ago",summary:c,extraText:a.meta.documentation.join().toString(),content:l};o((function(e){return[u].concat(Object(M.a)(e))}))}}))}))}),[t.query.system]),r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Events"),r.a.createElement(B.a,{style:{overflow:"auto",maxHeight:250},events:l}))}function J(e){var t=e.api,a=e.accountPair,n=e.label,c=e.params,l=e.setStatus,o=e.tx,u=e.disabled,i=function(){var e=Object(x.a)(C.a.mark((function e(){var n,r,u,i,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.address,r=a.meta,u=r.source,!r.isInjected){e.next=9;break}return e.next=4,Object(s.web3FromSource)(u);case 4:m=e.sent,i=n,t.setSigner(m.signer),e.next=10;break;case 9:i=a;case 10:l("Sending..."),o.apply(void 0,Object(M.a)(c)).signAndSend(i,(function(e){var t=e.status;if(t.isFinalized){var a="".concat(t.asFinalized.toString());a=a.substr(0,6)+"...."+a.substr(60,64),l("Sent! ".concat(a))}else l("Sending: ".concat(t.type))})).catch((function(e){l(":( transaction failed"),console.error("ERROR:",e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(T.a,{onClick:i,primary:!0,type:"submit",disabled:!a||u},n)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){var t=e.api,a=e.accountPair,c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({tokenId:""}),p=Object(u.a)(m,2),f=p[0],b=p[1],O=f.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement(D.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Deposit Token"),r.a.createElement(w.a.Description,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){b((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(o.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:a,label:"Add",params:[O],setStatus:s,tx:t.tx.plasmaCash.deposit}),i)))))}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){var t=e.api,a=e.accountPair,c=e.keyring,l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),b=f[0],O=f[1],d=c.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),j=Object(n.useState)({tokenId:""}),y=Object(u.a)(j,2),v=y[0],g=y[1],P=v.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement(D.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Transfer Token"),r.a.createElement(w.a.Description,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){g((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(o.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})),r.a.createElement(D.a.Field,null,r.a.createElement(h.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select Receipient",options:d,onChange:function(e,t){var a;a=t.value,O(a)},value:b})))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:a,label:"Send",params:[P,b],setStatus:m,tx:t.tx.plasmaCash.transfer}),s)))))}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){var t=e.api,a=e.accountPair,c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({tokenId:""}),p=Object(u.a)(m,2),f=p[0],b=p[1],O=f.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement(D.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Withdraw Token"),r.a.createElement(w.a.Description,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){b((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(o.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:a,label:"Remove",params:[O],setStatus:s,tx:t.tx.plasmaCash.withdraw}),i)))))}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}l.a.render(r.a.createElement((function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(u.a)(l,2),m=o[0],j=o[1],y=Object(n.useState)(!1),v=Object(u.a)(y,2),h=v[0],w=v[1],P=Object(n.useState)(""),k=Object(u.a)(P,2),C=k[0],x=k[1],D=C&&p.a.getPair(C);Object(n.useEffect)((function(){var e=new i.WsProvider("ws://127.0.0.1:9944");i.ApiPromise.create({provider:e,types:{TokenId:"u256"}}).then((function(e){c(e),e.isReady.then((function(){return j(!0)}))})).catch((function(e){return console.error(e)}))}),[]),Object(n.useEffect)((function(){Object(s.web3Enable)("plasma-cash").then((function(e){Object(s.web3Accounts)().then((function(e){return e.map((function(e){var t=e.address,a=e.meta;return{address:t,meta:G({},a,{name:"".concat(a.name," (").concat(a.source,")")})}}))})).then((function(e){I(e)})).catch(console.error)})).catch(console.error)}),[]);var I=function(e){p.a.loadAll({isDevelopment:!0},e),w(!0)},T=function(e){return r.a.createElement(f.a,{active:!0},r.a.createElement(b.a,{size:"small"},e))};if(!m)return T("Connecting to the blockchain");if(!h)return T("Loading accounts (please review any extension's authorization)");var F=p.a.getPairs().map((function(e){return{address:e.address,name:e.meta.name.toUpperCase()}})),H=Object(n.createRef)();return r.a.createElement("div",{ref:H},r.a.createElement(O.a,{context:H},r.a.createElement(g,{keyring:p.a,setAccountAddress:x,api:a})),r.a.createElement(d.a,null,r.a.createElement(E.a,{divided:!0},r.a.createElement(E.a.Row,{columns:4,stretched:!0},r.a.createElement(N,{api:a}),r.a.createElement(z,{api:a}),r.a.createElement(S,{api:a}),r.a.createElement(S,{api:a,finalized:!0})),r.a.createElement(E.a.Row,{columns:4,stretched:!0},r.a.createElement(R,{accounts:F,api:a}),r.a.createElement(W,{api:a,accountPair:D,keyring:p.a}),r.a.createElement(U,{api:a,accountPair:D}),r.a.createElement(X,{api:a,accountPair:D})),r.a.createElement(E.a.Row,{stretched:!0},r.a.createElement(q,{api:a}))),r.a.createElement(A,{api:a})))}),null),document.getElementById("root"))},602:function(e,t,a){e.exports=a(1256)},628:function(e,t){},671:function(e,t){},673:function(e,t){},706:function(e,t){},773:function(e,t){}},[[602,1,2]]]);
//# sourceMappingURL=main.af636e00.chunk.js.map