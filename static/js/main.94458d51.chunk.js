(window["webpackJsonpplasma-cash"]=window["webpackJsonpplasma-cash"]||[]).push([[0],{1252:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(138),o=n.n(c),l=n(68),u=n(33),i=n(355),s=n(198),m=n(203),p=n.n(m),f=n(1274),b=n(1263),O=n(1264),d=n(1261),E=n(1273),j=(n(1094),n(1272)),y=n(588),v=n(142),h=n(1269);function g(e){var t=e.keyring,n=e.setAccountAddress,c=e.api,o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],s=l[1],m=t.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),p=m.length>0?m[0].value:"";Object(a.useEffect)((function(){s(p),n(p)}),[n,p]);return Object(a.useEffect)((function(){return function(){}}),[i,c.query.balances]),r.a.createElement(j.a,{attached:"top",tabular:!0,style:{backgroundColor:"#fff",borderColor:"#fff",paddingTop:"1em",paddingBottom:"1em"}},r.a.createElement(d.a,null,r.a.createElement(j.a.Menu,null,r.a.createElement(y.a,{src:"Substrate-Logo.png",size:"mini"})),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(v.a,{name:"users",size:"large",circular:!0,color:i?"green":"red"}),r.a.createElement(h.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select an account",options:m,onChange:function(e,t){var a;a=t.value,n(a),s(a)},value:i}))))}var w=n(1270),S=n(1271);function P(e){var t=e.api,n=e.finalized,c=Object(a.useState)(0),o=Object(u.a)(c,2),l=o[0],i=o[1],s=Object(a.useState)(0),m=Object(u.a)(s,2),p=m[0],f=m[1],b=Object(a.useState)(0),O=Object(u.a)(b,2),d=O[0],j=O[1],y=Object(a.useState)(0),h=Object(u.a)(y,2),g=h[0],P=h[1],k=n?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber,C=t.rpc.chain.getHeader;Object(a.useEffect)((function(){var e;return k((function(e){i(e.toNumber()),f(0),C((function(e){var t=e.extrinsicsRoot.toHex();j(t.substring(0,6)+"...."+t.substring(62,66));var n=e.stateRoot.toHex();P(n.substring(0,6)+"...."+n.substring(62,66))}))})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[k,C]);var x=function(){f((function(e){return e+1}))};return Object(a.useEffect)((function(){var e=setInterval(x,1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,{textAlign:"center"},r.a.createElement(S.a,{label:(n?"Finalized":"Current")+" Block Number",value:l})),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(E.a.Column,null,r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"envelope"})," ",d),r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"save"})," ",g),r.a.createElement(E.a.Row,null,r.a.createElement(v.a,{name:"time"})," ",p))))))}var k=n(62),C=n.n(k),x=n(273),D=n(1265),I=n(1262),T=n(1253);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){var t=e.api,n=Object(a.useState)(""),c=Object(u.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)({tokenId:""}),m=Object(u.a)(s,2),p=m[0],f=m[1],b=p.tokenId,O=function(){var e=Object(x.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.query.plasmaCash.tokens(b);case 3:n=e.sent,i(n.isNone?"No one owns it!":n.toString()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(e.t0.toString());case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Token Ownership"),r.a.createElement(D.a,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){f((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token",state:"tokenId",type:"text",value:b})),r.a.createElement(D.a.Field,null,r.a.createElement(T.a,{onClick:O,primary:!0,type:"submit"},"Query")," Owner: ",o)))}function A(e){var t=e.api,a=n(8),r=n(41),c=n(323);return window.api=t,window.util=a,window.util_crypto=r,window.keyring=c,null}var z=n(1266);function N(e){var t=e.api,n=Object(a.useState)(0),c=Object(u.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)(0),s=Object(u.a)(i,2),m=s[0],p=s[1];return Object(a.useEffect)((function(){t.rpc.state.getMetadata((function(e){l(e),p(e.version)}))}),[t.rpc.state]),r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,"Metadata"),r.a.createElement(w.a.Meta,null,r.a.createElement("span",null,"v",m))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(z.a,{trigger:r.a.createElement(T.a,null,"Show Metadata")},r.a.createElement(z.a.Header,null,"Runtime Metadata"),r.a.createElement(z.a.Content,{scrolling:!0},r.a.createElement(z.a.Description,null,r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(o,null,2)))))))))}function M(e){var t=e.api,n=Object(a.useState)({}),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){Promise.all([t.rpc.system.chain(),t.rpc.system.name(),t.rpc.system.version()]).then((function(e){var t=Object(u.a)(e,3),n=t[0],a=t[1],r=t[2];l({chain:n,nodeName:a,nodeVersion:r})})).catch((function(e){return console.error(e)}))}),[t.rpc.system]),r.a.createElement(E.a.Column,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,o.nodeName),r.a.createElement(w.a.Meta,null,r.a.createElement("span",null,o.chain)),r.a.createElement(w.a.Description,null,"Built using the"," ",r.a.createElement("a",{href:"https://github.com/substrate-developer-hub/substrate-front-end-template"},"Substrate Front End Template"))),r.a.createElement(w.a.Content,{extra:!0},r.a.createElement(v.a,{name:"setting"}),"v",o.nodeVersion)))}var H=n(201),B=n(1268);function q(e){var t=e.api,n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){var e=['system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":0})','system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":1})'];t.query.system.events((function(t){t.forEach((function(t){var n=t.event,a=t.phase,r=n.typeDef,c="".concat(n.section,":").concat(n.method,":: (phase=").concat(a.toString(),")"),o=n.data.map((function(e,t){return"".concat(r[t].type,": ").concat(e.toString())}));if(!e.includes(c)){var u={icon:"bell",date:"X Blocks Ago",summary:c,extraText:n.meta.documentation.join().toString(),content:o};l((function(e){return[u].concat(Object(H.a)(e))}))}}))}))}),[t.query.system]),r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Events"),r.a.createElement(B.a,{style:{overflow:"auto",maxHeight:250},events:o}))}function J(e){var t=e.api,n=e.accountPair,a=e.label,c=e.params,o=e.setStatus,l=e.tx,u=e.disabled,i=e.sudo,m=void 0!==i&&i,p=function(){var e=Object(x.a)(C.a.mark((function e(){var a,r,u,i,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.address,r=n.meta,u=r.source,!r.isInjected){e.next=9;break}return e.next=4,Object(s.web3FromSource)(u);case 4:p=e.sent,i=a,t.setSigner(p.signer),e.next=10;break;case 9:i=n;case 10:o("Sending..."),(m?l.sudo.apply(l,Object(H.a)(c)):l.apply(void 0,Object(H.a)(c))).signAndSend(i,(function(e){var t=e.status;t.isFinalized?o("Completed at block hash #".concat(t.asFinalized.toString())):o("Current transaction status: ".concat(t.type))})).catch((function(e){o(":( transaction failed"),console.error("ERROR:",e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(T.a,{onClick:p,primary:!0,type:"submit",disabled:!n||u},a)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){var t=e.api,n=e.accountPair,c=Object(a.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(a.useState)({tokenId:""}),p=Object(u.a)(m,2),f=p[0],b=p[1],O=f.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Deposit Token"),r.a.createElement(D.a,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){b((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})),r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Add",params:[O],setStatus:s,tx:t.tx.plasmaCash.deposit}),i)))}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){var t=e.api,n=e.accountPair,c=e.keyring,o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),b=f[0],O=f[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),y=j[0],v=j[1],g=c.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),w=Object(a.useState)({tokenId:""}),S=Object(u.a)(w,2),P=S[0],k=S[1],C=P.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Transfer Token"),r.a.createElement(D.a,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){k((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})),r.a.createElement(D.a.Field,null,r.a.createElement(h.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select Receipient",options:g,onChange:function(e,t){var n;n=t.value,O(n),v(n.toString())},value:b})),r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Send",params:[C,y],setStatus:m,tx:t.tx.plasmaCash.transfer}),s)))}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){var t=e.api,n=e.accountPair,c=Object(a.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(a.useState)({tokenId:""}),p=Object(u.a)(m,2),f=p[0],b=p[1],O=f.tokenId;return r.a.createElement(E.a.Column,null,r.a.createElement("h1",null,"Withdraw Token"),r.a.createElement(D.a,null,r.a.createElement(D.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){b((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})),r.a.createElement(D.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Remove",params:[O],setStatus:s,tx:t.tx.plasmaCash.withdraw}),i)))}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o.a.render(r.a.createElement((function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),l=Object(u.a)(o,2),m=l[0],j=l[1],y=Object(a.useState)(!1),v=Object(u.a)(y,2),h=v[0],w=v[1],S=Object(a.useState)(""),k=Object(u.a)(S,2),C=k[0],x=k[1],D=C&&p.a.getPair(C);Object(a.useEffect)((function(){var e=new i.WsProvider("ws://127.0.0.1:9944");i.ApiPromise.create({provider:e,types:{TokenId:"u256"}}).then((function(e){c(e),e.isReady.then((function(){return j(!0)}))})).catch((function(e){return console.error(e)}))}),[]),Object(a.useEffect)((function(){Object(s.web3Enable)("plasma-cash").then((function(e){Object(s.web3Accounts)().then((function(e){return e.map((function(e){var t=e.address,n=e.meta;return{address:t,meta:G({},n,{name:"".concat(n.name," (").concat(n.source,")")})}}))})).then((function(e){I(e)})).catch(console.error)})).catch(console.error)}),[]);var I=function(e){p.a.loadAll({isDevelopment:!0},e),w(!0)},T=function(e){return r.a.createElement(f.a,{active:!0},r.a.createElement(b.a,{size:"small"},e))};if(!m)return T("Connecting to the blockchain");if(!h)return T("Loading accounts (please review any extension's authorization)");var F=Object(a.createRef)();return r.a.createElement("div",{ref:F},r.a.createElement(O.a,{context:F},r.a.createElement(g,{keyring:p.a,setAccountAddress:x,api:n})),r.a.createElement(d.a,null,r.a.createElement(E.a,{divided:!0},r.a.createElement(E.a.Row,{columns:4,stretched:!0},r.a.createElement(M,{api:n}),r.a.createElement(N,{api:n}),r.a.createElement(P,{api:n}),r.a.createElement(P,{api:n,finalized:!0})),r.a.createElement(E.a.Row,{columns:3,stretched:!0},r.a.createElement(E.a.Column,null,r.a.createElement(W,{api:n,accountPair:D,keyring:p.a})),r.a.createElement(E.a.Column,null,r.a.createElement(U,{api:n,accountPair:D})),r.a.createElement(E.a.Column,null,r.a.createElement(X,{api:n,accountPair:D}))),r.a.createElement(E.a.Row,{columns:3,stretched:!0},r.a.createElement(E.a.Column,null,r.a.createElement(R,{api:n})),r.a.createElement(E.a.Column,null,r.a.createElement(q,{api:n})))),r.a.createElement(A,{api:n})))}),null),document.getElementById("root"))},600:function(e,t,n){e.exports=n(1252)},626:function(e,t){},690:function(e,t){},692:function(e,t){},725:function(e,t){},791:function(e,t){}},[[600,1,2]]]);
//# sourceMappingURL=main.94458d51.chunk.js.map