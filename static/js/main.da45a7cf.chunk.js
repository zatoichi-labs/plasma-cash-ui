(window["webpackJsonpplasma-cash"]=window["webpackJsonpplasma-cash"]||[]).push([[0],{1256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(139),o=n.n(c),l=n(76),u=n(36),i=n(355),s=n(202),p=n(176),m=n.n(p),b=n(1278),d=n(1267),f=n(1268),O=n(1265),j=n(1277),E=(n(1098),n(1276)),y=n(590),v=n(143),g=n(1273);function h(e){var t=e.keyring,n=e.setAccountAddress,c=e.api,o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],s=l[1],p=t.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),m=p.length>0?p[0].value:"";Object(a.useEffect)((function(){s(m),n(m)}),[n,m]);return Object(a.useEffect)((function(){return function(){}}),[i,c.query.balances]),r.a.createElement(E.a,{attached:"top",tabular:!0,style:{backgroundColor:"#fff",borderColor:"#fff",paddingTop:"1em",paddingBottom:"1em"}},r.a.createElement(O.a,null,r.a.createElement(E.a.Menu,null,r.a.createElement(y.a,{src:"Substrate-Logo.png",size:"mini"})),r.a.createElement(E.a.Menu,{position:"right"},r.a.createElement(v.a,{name:"users",size:"large",circular:!0,color:i?"green":"red"}),r.a.createElement(g.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select an account",options:p,onChange:function(e,t){var a;a=t.value,n(a),s(a)},value:i}))))}var k=n(1274),w=n(1275);function T(e){var t=e.api,n=e.finalized,c=Object(a.useState)(0),o=Object(u.a)(c,2),l=o[0],i=o[1],s=Object(a.useState)(0),p=Object(u.a)(s,2),m=p[0],b=p[1],d=Object(a.useState)(0),f=Object(u.a)(d,2),O=f[0],E=f[1],y=Object(a.useState)(0),g=Object(u.a)(y,2),h=g[0],T=g[1],S=n?t.derive.chain.bestNumberFinalized:t.derive.chain.bestNumber,P=t.rpc.chain.getHeader;Object(a.useEffect)((function(){var e;return S((function(e){i(e.toNumber()),b(0),P((function(e){var t=e.extrinsicsRoot.toHex();E(t.substring(0,6)+"...."+t.substring(62,66));var n=e.stateRoot.toHex();T(n.substring(0,6)+"...."+n.substring(62,66))}))})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[S,P]);var C=function(){b((function(e){return e+1}))};return Object(a.useEffect)((function(){var e=setInterval(C,1e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Column,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,{textAlign:"center"},r.a.createElement(w.a,{label:(n?"Finalized":"Current")+" Block Number",value:l})),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(j.a.Column,null,r.a.createElement(j.a.Row,null,r.a.createElement(v.a,{name:"envelope"})," ",O),r.a.createElement(j.a.Row,null,r.a.createElement(v.a,{name:"save"})," ",h),r.a.createElement(j.a.Row,null,r.a.createElement(v.a,{name:"time"})," ",m))))))}var S=n(58),P=n.n(S),C=n(274),x=n(1269),I=n(1266),D=n(1257);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){var t=e.accounts,n=e.api,c=Object(a.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(a.useState)({tokenId:""}),m=Object(u.a)(p,2),b=m[0],d=m[1],f=b.tokenId,O=function(){var e=Object(C.a)(P.a.mark((function e(){var a,r,c,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.query.plasmaCash.tokens(f);case 3:(a=e.sent).isNone?r="No one owns it!":(c=a.unwrap().receiver,o=t.filter((function(e){return e.address===c.toString()})),r=1===o.length?"Owner: "+o[0].name:"Lookup failed!"),s(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0.toString());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(j.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"Token Ownership"),r.a.createElement(k.a.Description,null,r.a.createElement(x.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){d((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token",state:"tokenId",type:"text",value:f})))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(x.a.Field,null,r.a.createElement(D.a,{onClick:O,primary:!0,type:"submit"},"Query")," ",i)))))}function N(e){var t=e.api,a=n(8),r=n(38),c=n(211);return window.api=t,window.util=a,window.util_crypto=r,window.keyring=c,null}var F=n(1270);function R(e){var t=e.api,n=Object(a.useState)(0),c=Object(u.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)(0),s=Object(u.a)(i,2),p=s[0],m=s[1];return Object(a.useEffect)((function(){t.rpc.state.getMetadata((function(e){l(e),m(e.version)}))}),[t.rpc.state]),r.a.createElement(j.a.Column,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"Metadata"),r.a.createElement(k.a.Meta,null,r.a.createElement("span",null,"v",p))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(F.a,{trigger:r.a.createElement(D.a,null,"Show Metadata")},r.a.createElement(F.a.Header,null,"Runtime Metadata"),r.a.createElement(F.a.Content,{scrolling:!0},r.a.createElement(F.a.Description,null,r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(o,null,2)))))))))}function B(e){var t=e.api,n=Object(a.useState)({}),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){Promise.all([t.rpc.system.chain(),t.rpc.system.name(),t.rpc.system.version()]).then((function(e){var t=Object(u.a)(e,3),n=t[0],a=t[1],r=t[2];l({chain:n,nodeName:a,nodeVersion:r})})).catch((function(e){return console.error(e)}))}),[t.rpc.system]),r.a.createElement(j.a.Column,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,o.nodeName),r.a.createElement(k.a.Meta,null,r.a.createElement("span",null,o.chain)),r.a.createElement(k.a.Description,null,"Built using the"," ",r.a.createElement("a",{href:"https://github.com/substrate-developer-hub/substrate-front-end-template"},"Substrate Front End Template"))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(v.a,{name:"setting"}),"v",o.nodeVersion)))}var U=n(275),H=n(1272);function z(e){var t=e.api,n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){var e=['system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":0})','system:ExtrinsicSuccess:: (phase={"ApplyExtrinsic":1})'];t.query.system.events((function(t){t.forEach((function(t){var n=t.event,a=t.phase,r=n.typeDef,c="".concat(n.section,":").concat(n.method,":: (phase=").concat(a.toString(),")"),o=n.data.map((function(e,t){return"".concat(r[t].type,": ").concat(e.toString())}));if(!e.includes(c)){var u={icon:"bell",date:"X Blocks Ago",summary:c,extraText:n.meta.documentation.join().toString(),content:o.join(", ")};l((function(e){return[u].concat(Object(U.a)(e))}))}}))}))}),[t.query.system]),r.a.createElement(j.a.Column,null,r.a.createElement("h1",null,"Events"),r.a.createElement(H.a,{style:{overflow:"auto",maxHeight:250},events:o}))}var M=n(38),q=n(20);function J(e){var t=e.api,n=e.accountPair,a=e.label,c=e.params,o=e.setStatus,l=e.tx,u=e.disabled,i=function(){var e=Object(C.a)(P.a.mark((function e(){var a,r,u,i,p;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.address,r=n.meta,u=r.source,!r.isInjected){e.next=9;break}return e.next=4,Object(s.web3FromSource)(u);case 4:p=e.sent,i=a,t.setSigner(p.signer),e.next=10;break;case 9:i=n;case 10:o("Sending..."),l.apply(void 0,Object(U.a)(c)).signAndSend(i,(function(e){var t=e.status;if(t.isFinalized){var n="".concat(t.asFinalized.toString());n=n.substr(0,6)+"...."+n.substr(60,64),o("Sent! ".concat(n))}else o("Sending: ".concat(t.type))})).catch((function(e){o(":( transaction failed"),console.error("ERROR:",e)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(D.a,{onClick:i,primary:!0,type:"submit",disabled:!n||u},a)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){var t=e.api,n=e.accountPair,c=Object(a.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(q.createType)("Transaction",{receiver:Object(q.createType)("AccountId",n.address),token_id:Object(q.createType)("TokenId",0),prev_blk_num:Object(q.createType)("BlkNum",0),sender:Object(q.createType)("AccountId",n.address),signature:Object(q.createType)("Signature","")}),m=Object(a.useState)(p),b=Object(u.a)(m,2),d=b[0],f=b[1],O=function(e){f((function(t){var a=Object(q.createType)("UnsignedTransaction",{receiver:Object(q.createType)("AccountId",n.address),token_id:Object(q.createType)("TokenId",e),prev_blk_num:Object(q.createType)("BlkNum",t.prev_blk_num)}),r=n.sign(Object(M.blake2AsU8a)(a.toU8a()));return Object(q.createType)("Transaction",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{sender:Object(q.createType)("AccountId",n.address),signature:Object(q.createType)("Signature",r)}))}))};return r.a.createElement(j.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"Deposit Token"),r.a.createElement(k.a.Description,null,r.a.createElement(x.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){O(t.value)},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",type:"text"})))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(x.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Add",params:[d],setStatus:s,tx:t.tx.plasmaCash.deposit}),i)))))}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=e.api,n=e.accountPair,c=e.keyring,o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],s=l[1],p=c.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase(),icon:"user"}})),m=Object(q.createType)("Transaction",{receiver:Object(q.createType)("AccountId",n.address),token_id:Object(q.createType)("TokenId",0),prev_blk_num:Object(q.createType)("BlkNum",0),sender:Object(q.createType)("AccountId",n.address),signature:Object(q.createType)("Signature","")}),b=Object(a.useState)(m),d=Object(u.a)(b,2),f=d[0],O=d[1];return r.a.createElement(j.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"Transfer Token"),r.a.createElement(k.a.Description,null,r.a.createElement(x.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){var a;a=t.value,O((function(e){var t=Object(q.createType)("UnsignedTransaction",{receiver:Object(q.createType)("AccountId",e.receiver),token_id:Object(q.createType)("TokenId",a),prev_blk_num:Object(q.createType)("BlkNum",e.prev_blk_num)}),r=n.sign(Object(M.blake2AsU8a)(t.toU8a()));return Object(q.createType)("Transaction",Q({},t,{sender:Object(q.createType)("AccountId",n.address),signature:Object(q.createType)("Signature",r)}))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:f.tokenId,type:"text"})),r.a.createElement(x.a.Field,null,r.a.createElement(g.a,{search:!0,selection:!0,clearable:!0,placeholder:"Select Receipient",options:p,onChange:function(e,t){var a;a=t.value,O((function(e){var t=Object(q.createType)("UnsignedTransaction",{receiver:Object(q.createType)("AccountId",a),token_id:Object(q.createType)("TokenId",e.token_id),prev_blk_num:Object(q.createType)("BlkNum",e.prev_blk_num)}),r=n.sign(Object(M.blake2AsU8a)(t.toU8a()));return Object(q.createType)("Transaction",Q({},t,{sender:Object(q.createType)("AccountId",n.address),signature:Object(q.createType)("Signature",r)}))}))},value:f.receiverId})))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(x.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Send",params:[f],setStatus:s,tx:t.tx.plasmaCash.transfer}),i)))))}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){var t=e.api,n=e.accountPair,c=Object(a.useState)(""),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(a.useState)({tokenId:""}),m=Object(u.a)(p,2),b=m[0],d=m[1],f=b.tokenId;return r.a.createElement(j.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,"Withdraw Token"),r.a.createElement(k.a.Description,null,r.a.createElement(x.a.Field,null,r.a.createElement(I.a,{onChange:function(e,t){d((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(l.a)({},t.state,t.value))}))},label:"Token ID",fluid:!0,placeholder:"ID of Token you control",state:"tokenId",type:"text"})))),r.a.createElement(k.a.Content,{extra:!0},r.a.createElement(x.a.Field,null,r.a.createElement(J,{api:t,accountPair:n,label:"Remove",params:[f],setStatus:s,tx:t.tx.plasmaCash.withdraw}),i)))))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o.a.render(r.a.createElement((function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),l=Object(u.a)(o,2),p=l[0],E=l[1],y=Object(a.useState)(!1),v=Object(u.a)(y,2),g=v[0],k=v[1],w=Object(a.useState)(""),S=Object(u.a)(w,2),P=S[0],C=S[1],x=P&&m.a.getPair(P);Object(a.useEffect)((function(){var e=new i.WsProvider("ws://127.0.0.1:9944");i.ApiPromise.create({provider:e,types:{TokenId:"u256",BlkNum:"u256",UnsignedTransaction:{receiver:"AccountId",token_id:"TokenId",prev_blk_num:"BlkNum"},Transaction:{receiver:"AccountId",token_id:"TokenId",prev_blk_num:"BlkNum",sender:"AccountId",signature:"Signature"}}}).then((function(e){c(e),e.isReady.then((function(){return E(!0)}))})).catch((function(e){return console.error(e)}))}),[]),Object(a.useEffect)((function(){Object(s.web3Enable)("plasma-cash").then((function(e){Object(s.web3Accounts)().then((function(e){return e.map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Z({},n,{name:"".concat(n.name," (").concat(n.source,")")})}}))})).then((function(e){I(e)})).catch(console.error)})).catch(console.error)}),[]);var I=function(e){m.a.loadAll({isDevelopment:!0},e),k(!0)},D=function(e){return r.a.createElement(b.a,{active:!0},r.a.createElement(d.a,{size:"small"},e))};if(!p)return D("Connecting to the blockchain");if(!g)return D("Loading accounts (please review any extension's authorization)");var A=m.a.getPairs().map((function(e){return{address:e.address,name:e.meta.name.toUpperCase()}})),F=Object(a.createRef)();return r.a.createElement("div",{ref:F},r.a.createElement(f.a,{context:F},r.a.createElement(h,{keyring:m.a,setAccountAddress:C,api:n})),r.a.createElement(O.a,null,r.a.createElement(j.a,{divided:!0},r.a.createElement(j.a.Row,{columns:4,stretched:!0},r.a.createElement(B,{api:n}),r.a.createElement(R,{api:n}),r.a.createElement(T,{api:n}),r.a.createElement(T,{api:n,finalized:!0})),r.a.createElement(j.a.Row,{columns:4,stretched:!0},r.a.createElement(_,{accounts:A,api:n}),r.a.createElement(X,{api:n,accountPair:x,keyring:m.a}),r.a.createElement(V,{api:n,accountPair:x}),r.a.createElement(K,{api:n,accountPair:x})),r.a.createElement(j.a.Row,{stretched:!0},r.a.createElement(z,{api:n}))),r.a.createElement(N,{api:n})))}),null),document.getElementById("root"))},602:function(e,t,n){e.exports=n(1256)},628:function(e,t){},671:function(e,t){},673:function(e,t){},706:function(e,t){},773:function(e,t){}},[[602,1,2]]]);
//# sourceMappingURL=main.da45a7cf.chunk.js.map